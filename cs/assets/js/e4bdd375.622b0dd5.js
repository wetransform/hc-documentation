"use strict";(self.webpackChunkhc_documentation=self.webpackChunkhc_documentation||[]).push([[8893],{3905:(e,o,t)=>{t.d(o,{Zo:()=>u,kt:()=>m});var n=t(7294);function a(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function r(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?r(Object(t),!0).forEach((function(o){a(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function p(e,o){if(null==e)return{};var t,n,a=function(e,o){if(null==e)return{};var t,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],o.indexOf(t)>=0||(a[t]=e[t]);return a}(e,o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=n.createContext({}),l=function(e){var o=n.useContext(s),t=o;return e&&(t="function"==typeof e?e(o):i(i({},o),e)),t},u=function(e){var o=l(e.components);return n.createElement(s.Provider,{value:o},e.children)},c={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},d=n.forwardRef((function(e,o){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),d=l(t),m=a,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return t?n.createElement(k,i(i({ref:o},u),{},{components:t})):n.createElement(k,i({ref:o},u))}));function m(e,o){var t=arguments,a=o&&o.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=d;var p={};for(var s in o)hasOwnProperty.call(o,s)&&(p[s]=o[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var l=2;l<r;l++)i[l]=t[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8755:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>p,toc:()=>l});var n=t(7462),a=(t(7294),t(3905));const r={title:"P\u0159\xedprava ESRI shapefiles k online transformaci",categories:["help-page-category-tutorials","help-page-subcategory-tutorials"],layout:"help-detail",language:"cs"},i=void 0,p={unversionedId:"tutorials/2018-05-04-shp-tutorial",id:"tutorials/2018-05-04-shp-tutorial",title:"P\u0159\xedprava ESRI shapefiles k online transformaci",description:"Form\xe1t ESRI Shapefile",source:"@site/i18n/cs/docusaurus-plugin-content-docs/current/tutorials/2018-05-04-shp-tutorial.md",sourceDirName:"tutorials",slug:"/tutorials/2018-05-04-shp-tutorial",permalink:"/cs/docs/tutorials/2018-05-04-shp-tutorial",draft:!1,editUrl:"https://github.com/wetransform/hc-documentation/tree/master/i18n/cs/docusaurus-plugin-content-docs/current/tutorials/2018-05-04-shp-tutorial.md",tags:[],version:"current",frontMatter:{title:"P\u0159\xedprava ESRI shapefiles k online transformaci",categories:["help-page-category-tutorials","help-page-subcategory-tutorials"],layout:"help-detail",language:"cs"},sidebar:"tutorialSidebar",previous:{title:"Vytv\xe1\u0159en\xed soubor\u016f Styled Layer Descriptor (SLD) pro hale\xbbconnect",permalink:"/cs/docs/tutorials/2018-05-03-sld-tutorial"},next:{title:"Vytvo\u0159en\xed profilu pomoc\xed hale\xbbconnect Profile Management Tool (PMT)",permalink:"/cs/docs/tutorials/2018-05-05-pmt-tutorial"}},s={},l=[{value:"<strong>Form\xe1t ESRI Shapefile</strong>",id:"form\xe1t-esri-shapefile",level:3},{value:"<strong>Transformace sou\u0159adnicov\xfdch syst\xe9m\u016f</strong>",id:"transformace-sou\u0159adnicov\xfdch-syst\xe9m\u016f",level:3},{value:"<strong>Identifikace sou\u0159adnicov\xe9ho referen\u010dn\xedho syst\xe9mu v hale\xbbconnect</strong>",id:"identifikace-sou\u0159adnicov\xe9ho-referen\u010dn\xedho-syst\xe9mu-v-haleconnect",level:3},{value:"<strong>Manu\xe1ln\xed p\u0159id\xe1n\xed parametru AUTHORITY do souboru prj ESRI</strong>",id:"manu\xe1ln\xed-p\u0159id\xe1n\xed-parametru-authority-do-souboru-prj-esri",level:3},{value:"<strong>P\u0159eklopen\xed osy</strong>",id:"p\u0159eklopen\xed-osy",level:3}],u={toc:l};function c(e){let{components:o,...t}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,t,{components:o,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"form\xe1t-esri-shapefile"},(0,a.kt)("strong",{parentName:"h3"},"Form\xe1t ESRI Shapefile")),(0,a.kt)("p",null,"ESRI shapefile je form\xe1t pro ukl\xe1d\xe1n\xed vektorov\xfdch dat sest\xe1vaj\xedc\xed ze t\u0159\xed soubor\u016f se stejnou p\u0159edponou n\xe1zvu souboru:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"shp: ulo\u017e\xed geometrii jako seznam vrchol\u016f"),(0,a.kt)("li",{parentName:"ul"},"shx: index geometrie umo\u017e\u0148uj\xedc\xed rychl\xe9 vyhled\xe1v\xe1n\xed zalo\u017een\xe9 na indexu"),(0,a.kt)("li",{parentName:"ul"},"dbf: soubor dBase pou\u017e\xedvan\xfd k ukl\xe1d\xe1n\xed informac\xed o atributech")),(0,a.kt)("p",null,"Soubory Shapefiles mohou obsahovat dal\u0161\xed soubory, nap\u0159\xedklad ",(0,a.kt)("inlineCode",{parentName:"p"},".prj"),", kter\xfd ukl\xe1d\xe1 informace o sou\u0159adnicov\xe9m syst\xe9mu (pou\u017e\xedv\xe1 ArcGIS), nebo ",(0,a.kt)("inlineCode",{parentName:"p"},".cpg"),", kter\xfd specifikuje k\xf3dovou str\xe1nku k identifikaci znakov\xe9 sady, kter\xe1 se m\xe1 pou\u017e\xedt. Podle definice je kart\xe9zsk\xfd vektor (tj. X,Y) datov\xe1 struktura pou\u017e\xedvan\xe1 k ukl\xe1d\xe1n\xed prostorov\xfdch dat. V\u011bt\u0161ina geografick\xfdch informa\u010dn\xedch syst\xe9m\u016f, v\u010detn\u011b ESRI ArcGIS, uchov\xe1v\xe1 geoprostorov\xe1 data ve vektorov\xe9m form\xe1tu. Dal\u0161\xed b\u011b\u017en\xe9 form\xe1ty prostorov\xfdch dat zahrnuj\xed rastr a TIN.\nDal\u0161\xed informace naleznete v ",(0,a.kt)("a",{parentName:"p",href:"https://www.esri.com/library/whitepapers/pdfs/shapefile.pdf"},"Technick\xfd popis ESRI Shapefile: B\xedl\xe1 kniha ESRI \u2013 \u010dervenec 1988")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Soubory ESRI prj a soubory WKT")),(0,a.kt)("p",null,"Soubor shapefile je obvykle doprov\xe1zen souborem ",(0,a.kt)("inlineCode",{parentName:"p"},".prj"),", kter\xfd obsahuje \u0159et\u011bzec dob\u0159e zn\xe1m\xfd text (WKT), ve kter\xe9m jsou ulo\u017eeny informace o sou\u0159adnicov\xe9m referen\u010dn\xedm syst\xe9mu. Dob\u0159e zn\xe1m\xfd text (WKT) je textov\xfd zna\u010dkovac\xed jazyk pro reprezentaci objekt\u016f vektorov\xe9 geometrie na map\u011b. Form\xe1t byl p\u016fvodn\u011b definov\xe1n konsorciem Open Geospatial Consortium (OGC) a pops\xe1n v jeho specifikaci Simple Feature Access, jej\xedm\u017e p\u0159isp\u011bvatelem byla spole\u010dnost ESRI. ",(0,a.kt)("a",{parentName:"p",href:"https://www.opengeospatial.org/standards/wkt-crs"},"Aktu\xe1ln\xed verze standardu WKT")," byla zve\u0159ejn\u011bna 13. srpna 2019."),(0,a.kt)("p",null,"Ne v\u0161echny soubory ",(0,a.kt)("inlineCode",{parentName:"p"},".prj")," obsahuj\xed stejn\xe9 parametry. Mezi soubory ESRI WKT a soubory OGC WKT existuj\xed i syntaktick\xe9 rozd\xedly. Chcete-li zobrazit p\u0159\xedklady r\u016fzn\xfdch soubor\u016f WKT, nav\u0161tivte str\xe1nku ",(0,a.kt)("a",{parentName:"p",href:"https://epsg.io/"},"EPSG.io"),". Zde jsou p\u0159\xedklady soubor\u016f WKT pro EPSG:25832:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"P\u0159\xedklad form\xe1tu Well Known Text (WKT) jako HTML"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'PROJCS["ETRS89 / UTM zone 32N",\n  GEOGCS["ETRS89",\n    DATUM["European_Terrestrial_Reference_System_1989",\n        SPHEROID["GRS 1980",6378137,298.257222101,\n            AUTHORITY["EPSG","7019"]],\n        TOWGS84[0,0,0,0,0,0,0],\n        AUTHORITY["EPSG","6258"]],\n    PRIMEM["Greenwich",0,\n        AUTHORITY["EPSG","8901"]],\n    UNIT["degree",0.0174532925199433,\n        AUTHORITY["EPSG","9122"]],\n    AUTHORITY["EPSG","4258"]],\nPROJECTION["Transverse_Mercator"],\nPARAMETER["latitude_of_origin",0],\nPARAMETER["central_meridian",9],\nPARAMETER["scale_factor",0.9996],\nPARAMETER["false_easting",500000],\nPARAMETER["false_northing",0],\nUNIT["metre",1,\n  AUTHORITY["EPSG","9001"]],\nAXIS["Easting",EAST],\nAXIS["Northing",NORTH],\nAUTHORITY["EPSG","25832"]]\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"P\u0159\xedklad OGC WKT"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'PROJCS["ETRS89 / UTM zone 32N",\n  GEOGCS["ETRS89",\n    DATUM["European_Terrestrial_Reference_System_1989",\n      SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],\n             TOWGS84[0,0,0,0,0,0,0],\n             AUTHORITY["EPSG","6258"]],\n           PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],\n           UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],\n  AUTHORITY["EPSG","4258"]],\nPROJECTION["Transverse_Mercator"],\nPARAMETER["latitude_of_origin",0],\nPARAMETER["central_meridian",9],\nPARAMETER["scale_factor",0.9996],\nPARAMETER["false_easting",500000],\nPARAMETER["false_northing",0],\nUNIT["metre",1,AUTHORITY["EPSG","9001"]],\nAXIS["Easting",EAST],\nAXIS["Northing",NORTH],\nAUTHORITY["EPSG","25832"]]\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"P\u0159\xedklad ESRI WKT"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'PROJCS["ETRS89_UTM_zone_32N",\n  GEOGCS["GCS_ETRS_1989",\n    DATUM["D_ETRS_1989",\n           SPHEROID["GRS_1980",6378137,298.257222101]],\n          PRIMEM["Greenwich",0],\n          UNIT["Degree",0.017453292519943295]],\nPROJECTION["Transverse_Mercator"],\nPARAMETER["latitude_of_origin",0],\nPARAMETER["central_meridian",9],\nPARAMETER["scale_factor",0.9996],\nPARAMETER["false_easting",500000],\nPARAMETER["false_northing",0],\nUNIT["Meter",1]]\n')),(0,a.kt)("h3",{id:"transformace-sou\u0159adnicov\xfdch-syst\xe9m\u016f"},(0,a.kt)("strong",{parentName:"h3"},"Transformace sou\u0159adnicov\xfdch syst\xe9m\u016f")),(0,a.kt)("p",null,"Transformace sou\u0159adnicov\xfdch syst\xe9m\u016f jsou pot\u0159ebn\xe9, kdy\u017e va\u0161e transformace z jednoho sou\u0159adnicov\xe9ho syst\xe9mu do druh\xe9ho zahrnuje geografick\xfd sou\u0159adnicov\xfd syst\xe9m. Transformace sou\u0159adnicov\xfdch syst\xe9m\u016f by m\u011bly b\xfdt prov\xe1d\u011bny opatrn\u011b, proto\u017ee mohou v\xe9st k v\xfdznamn\xfdm posun\u016fm dat o 1 metr nebo v\xedce. Existuje n\u011bkolik r\u016fzn\xfdch metod pou\u017e\xedvan\xfdch k proveden\xed transformace dat \u2013 jednou z nich je Bursa-Wolf."),(0,a.kt)("p",null,"Parametr WKT ",(0,a.kt)("inlineCode",{parentName:"p"},"TOWGS84")," se pou\u017e\xedv\xe1 k aproximaci transformace z horizont\xe1ln\xedho nulov\xe9ho bodu na nulov\xfd bod WGS84.\nP\u016fvodn\xed specifikace jednoduch\xfdch funkc\xed WKT nespecifikuje ",(0,a.kt)("inlineCode",{parentName:"p"},"TOWGS84")," jako platn\xe9 kl\xed\u010dov\xe9 slovo. ESRI nepodporuje parametr ",(0,a.kt)("inlineCode",{parentName:"p"},"TOWGS84")," ve WKT. Nam\xedsto pou\u017eit\xed pevn\xe9 transformace software ESRI v p\u0159\xedpad\u011b pot\u0159eby \u017e\xe1d\xe1 u\u017eivatele, aby si zvolil vhodnou metodu transformace, jako v p\u0159\xedpad\u011b QGIS."),(0,a.kt)("p",null,"Aktu\xe1ln\xed verze WKT nem\xe1 zp\u011btnou kompatibilitu s ",(0,a.kt)("inlineCode",{parentName:"p"},"TOWGS84"),". Popisy WKT geodetick\xfdch dat zapsan\xe9 podle specifikace OGC 01-009 nejsou \u010diteln\xe9 implementacemi aktu\xe1ln\xed specifikace WKT, je-li uveden voliteln\xfd objekt ",(0,a.kt)("inlineCode",{parentName:"p"},"TOWGS84"),"."),(0,a.kt)("h3",{id:"identifikace-sou\u0159adnicov\xe9ho-referen\u010dn\xedho-syst\xe9mu-v-haleconnect"},(0,a.kt)("strong",{parentName:"h3"},"Identifikace sou\u0159adnicov\xe9ho referen\u010dn\xedho syst\xe9mu v hale\xbbconnect")),(0,a.kt)("p",null,"hale\xbbconnect vyu\u017e\xedv\xe1 ke zpracov\xe1n\xed prostorov\xfdch dat open source Java GIS toolkit GeoTools. GeoTools zase obsahuje kopii ",(0,a.kt)("a",{parentName:"p",href:"http://www.epsg-registry.org/"},"datab\xe1ze EPSG"),". Kdy\u017e se soubor shapefile nahraje na platformu, hale\xbbconnect pou\u017eije knihovnu GeoTools, aby se pokusil porovnat WKT obsa\u017een\xfd v souboru ",(0,a.kt)("inlineCode",{parentName:"p"},".prj")," s definicemi CRS v datab\xe1zi EPSG. Nalezne-li se shoda, data se n\xe1sledn\u011b zpracuj\xed pomoc\xed shodn\xe9ho k\xf3du EPSG CRS."),(0,a.kt)("p",null,"V n\u011bkter\xfdch p\u0159\xedpadech GeoTools nedok\xe1\u017ee ur\u010dit definici CRS na z\xe1klad\u011b informac\xed obsa\u017een\xfdch ve WKT. Na podporu GeoTools p\u0159i hled\xe1n\xed spr\xe1vn\xe9 shody m\u016f\u017ee u\u017eivatel p\u0159idat parametr ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY")," jako kone\u010dn\xfd parametr do souboru WKT. GeoTools pak pou\u017eije k\xf3d EPSG dodan\xfd u\u017eivatelem v parametru ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY")," k pou\u017eit\xed definice CRS definovan\xe9 v datab\xe1zi EPSG na soubor shapefile. Tyto definice tak\xe9 obsahuj\xed Bursa-Wolfovy parametry pot\u0159ebn\xe9 k transformaci dat z definic CRS v datab\xe1zi EPSG."),(0,a.kt)("h3",{id:"manu\xe1ln\xed-p\u0159id\xe1n\xed-parametru-authority-do-souboru-prj-esri"},(0,a.kt)("strong",{parentName:"h3"},"Manu\xe1ln\xed p\u0159id\xe1n\xed parametru AUTHORITY do souboru prj ESRI")),(0,a.kt)("p",null,"Soubor ",(0,a.kt)("inlineCode",{parentName:"p"},".prj")," ESRI m\u016f\u017eete manu\xe1ln\u011b upravit tak, aby obsahoval voliteln\xfd parametr ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY"),". Parametr mus\xed b\xfdt p\u0159id\xe1n jako kone\u010dn\xfd ukon\u010dovac\xed parametr v souboru pomoc\xed n\xe1sleduj\xedc\xedho vzoru: ",(0,a.kt)("inlineCode",{parentName:"p"},'AUTHORITY["EPSG","25832"]'),". A\u010dkoli je pou\u017eit\xed parametru ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY")," v sou\u010dasn\xe9 verzi WKT ofici\xe1ln\u011b zastaral\xe9, z d\u016fvodu zp\u011btn\xe9 kompatibility je jeho pou\u017eit\xed st\xe1le akceptov\xe1no."),(0,a.kt)("p",null,"V aktu\xe1ln\xed verzi WKT byl objekt ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY")," nahrazen objektem ",(0,a.kt)("inlineCode",{parentName:"p"},"ID"),". Objekt identifik\xe1toru nen\xed definov\xe1n tak \xfazce, jako byl \u201eAUTHORITY\u201c v p\u0159edchoz\xedch verz\xedch."),(0,a.kt)("h3",{id:"p\u0159eklopen\xed-osy"},(0,a.kt)("strong",{parentName:"h3"},"P\u0159eklopen\xed osy")),(0,a.kt)("p",null,"Hlavn\xed p\u0159\xed\u010dinou mnoha probl\xe9m\u016f s p\u0159ekl\xe1p\u011bn\xedm osy, se kter\xfdmi se u\u017eivatel\xe9 setk\xe1vaj\xed, je to, \u017ee osov\xe9 po\u0159ad\xed geometri\xed v souboru tvaru je zem\u011bpisn\xe1 d\xe9lka, zem\u011bpisn\xe1 \u0161\xed\u0159ka/v\xfdchod, sever, av\u0161ak definice WKT v souboru ",(0,a.kt)("inlineCode",{parentName:"p"},".prj")," popisuje CRS, kter\xfd m\xe1 zem\u011bpisnou \u0161\xed\u0159ku, zem\u011bpisn\xe1 d\xe9lka/sever, po\u0159ad\xed v\xfdchodn\xed osy. Nap\u0159\xedklad WGS 84 = EPSG:4326."),(0,a.kt)("p",null,"To je problematick\xe9, pokud neexistuje \u017e\xe1dn\xe1 definice EPSG pro CRS s po\u0159ad\xedm os pou\u017eit\xfdm v souboru shapefile, proto\u017ee pro parametr ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY"),' nelze uv\xe9st \u017e\xe1dn\xfd odpov\xeddaj\xedc\xed k\xf3d. V t\u011bchto p\u0159\xedpadech je t\u0159eba pou\u017e\xedt p\u0159ep\xedna\u010d "Obr\xe1tit po\u0159ad\xed sou\u0159adnic" k obr\xe1cen\xed po\u0159ad\xed os po zve\u0159ejn\u011bn\xed datov\xe9 sady.'),(0,a.kt)("p",null,"Nakonec je jedin\xfdm zp\u016fsobem, jak vy\u0159e\u0161it po\u0159ad\xed os, analyzovat po\u0159ad\xed os geometri\xed souboru shapefile a ur\u010dit, zda po\u0159ad\xed os vyhovuje definici CRS v souboru ",(0,a.kt)("inlineCode",{parentName:"p"},".prj"),", a podle toho jednat, tj. bu\u010f p\u0159idat parametr ",(0,a.kt)("inlineCode",{parentName:"p"},"AUTHORITY")," do souboru ",(0,a.kt)("inlineCode",{parentName:"p"},".prj"),', nebo pou\u017e\xedt p\u0159ep\xedna\u010d "Obr\xe1tit po\u0159ad\xed sou\u0159adnic" v hale\xbbconnect.'))}c.isMDXComponent=!0}}]);